define(["Ti/_/Evented","Ti/_/lang"],function(e,a){function t(e){"online"===e.type&&!n&&(n=1),"offline"===e.type&&n&&(n=0),s.fireEvent("change",{networkType:s.networkType,networkTypeName:s.networkTypeName,online:n})}var i=navigator.connection,n=navigator.onLine,s=a.setObject("Ti.Network",e,{constants:{NETWORK_LAN:1,NETWORK_MOBILE:3,NETWORK_NONE:0,NETWORK_UNKNOWN:-1,NETWORK_WIFI:2,networkType:function(){return n?i&&i.type==i.WIFI?s.NETWORK_WIFI:i&&i.type==i.ETHERNET?s.NETWORK_LAN:!i||i.type!=i.CELL_2G&&i.type!=i.CELL_3G?s.NETWORK_UNKNOWN:s.NETWORK_MOBILE:s.NETWORK_NONE},networkTypeName:function(){return n?i&&i.type==i.WIFI?"WIFI":i&&i.type==i.ETHERNET?"LAN":!i||i.type!=i.CELL_2G&&i.type!=i.CELL_3G?"UNKNOWN":"MOBILE":"NONE"},online:function(){return n}},properties:{httpURLFormatter:null},createHTTPClient:function(e){return new(require("Ti/Network/HTTPClient"))(e)},decodeURIComponent:function(e){return decodeURIComponent(e)},encodeURIComponent:function(e){return encodeURIComponent(e)}});return require.on(window,"online",t),require.on(window,"offline",t),s});