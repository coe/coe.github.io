define(["require","Ti/_/lang","Ti/_/Evented","Ti/API"],function(e,a,t,i){function n(e,a){return _[e]||a||e||""}var s=a.val(navigator.language,navigator.browserLanguage).replace(/^([^\-\_]+)[\-\_](.+)?$/,function(e,a,t){return a.toLowerCase()+(t&&"-"+t.toUpperCase())}),o=s.split("-"),r=o[0],_={},l=e.config,d=l.app;document.body.dir=/^ar|he$/.test(r)?"RTL":"LTR",document.title=d.name=d.names[r]||d.name;try{~l.locales.indexOf(r)&&(_=e("./Locale/"+r+"/i18n"))}catch(c){}return Object.defineProperty(window,"L",{value:n,enumarable:!0}),String.formatDate=function(e){return i.debug('Method "String.formatDate" is not implemented yet.'),""+e},String.formatTime=function(e){return i.debug('Method "String.formatTime" is not implemented yet.'),""+e},String.formatCurrency=function(e){return i.debug('Method "String.formatCurrency" is not implemented yet.'),e},String.formatDecimal=function(e){return i.debug('Method "String.formatDecimal" is not implemented yet.'),e},a.setObject("Ti.Locale",t,{constants:{currentCountry:o[1]||"",currentLanguage:o[0]||"",currentLocale:s},formatTelephoneNumber:function(e){return e},getCurrencyCode:function(){return""},getCurrencySymbol:function(){return""},getLocaleCurrencySymbol:function(){return""},getString:n,_getString:function(e,t){return a.val(t,n(e,t))}})});