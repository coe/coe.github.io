define(["Ti/_/declare","Ti/UI/View","Ti/_/dom","Ti/Locale","Ti/UI","Ti/UI/MobileWeb","Ti/UI/Label","Ti/UI/ImageView"],function(e,a,t,i,n,s){var o={post:function(){this._tabTitle.text=this._getTitle()}},r=n.FILL,_=n.SIZE;return e("Ti.UI.Tab",a,{constructor:function(e){var a=e&&e.window,t=n.createView({layout:n._LAYOUT_CONSTRAINING_VERTICAL,width:"100%",height:_}),i=this._tabNavigationGroup=s.createNavigationGroup({window:a,_tab:this});this._add(t),t._add(this._tabIcon=n.createImageView({height:_,width:_})),t._add(this._tabTitle=n.createLabel({width:"100%",wordWrap:!0,textAlign:n.TEXT_ALIGNMENT_CENTER})),a&&require.on(this,"singletap",this,function(){var e=this._tabGroup;e&&(e.activeTab===this?i._reset():e.activeTab=this)})},_defaultWidth:r,_defaultHeight:r,open:function(e,a){this._tabNavigationGroup.open(e,a)},close:function(e,a){this._tabNavigationGroup.close(e,a)},_focus:function(){this.fireEvent("focus",this._tabGroup._getEventData());var e=this._tabNavigationGroup._getTopWindow();e&&(this._tabGroup&&this._tabGroup._opened&&!e._opened&&(e._opened=1,e.fireEvent("open")),e._handleFocusEvent())},_blur:function(){var e=this._tabNavigationGroup._getTopWindow();e&&e._handleBlurEvent(),this.fireEvent("blur",this._tabGroup._getEventData())},_getTitle:function(){return i._getString(this.titleid,this.title)},_setTabGroup:function(e){this._tabGroup=e,this._tabNavigationGroup.navBarAtTop=e.tabsAtTop,this._win&&(this._win.tabGroup=e)},_setNavBarAtTop:function(e){this._tabNavigationGroup.navBarAtTop=e},properties:{active:{get:function(){return this._tabGroup&&this._tabGroup.activeTab===this},post:function(e){var a=this._tabGroup,t=this._tabNavigationGroup,i=a._focused&&a._opened;e?(t.navBarAtTop=a.tabsAtBottom,t._updateNavBar(),a._addTabContents(t),i&&this._focus()):(a._removeTabContents(t),i&&this._blur())}},icon:{set:function(e){return this._tabIcon.image=e}},title:o,titleid:o}})});