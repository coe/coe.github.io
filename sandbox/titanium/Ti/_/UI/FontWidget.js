define(["Ti/_/declare","Ti/_/dom","Ti/_/lang","Ti/_/ready","Ti/_/style","Ti/_/UI/Widget"],function(e,a,t,i,n,s){var o;return i(function(){o=a.create("p",{style:{position:"absolute",top:"-1000em",left:0,height:"auto",width:"auto"}},document.body)}),e("Ti._.UI.FontWidget",s,{constructor:function(){this._styleableDomNodes=[]},_setFont:function(e,a){if(e){var t=parseInt(e.fontSize);e.fontSize=isNaN(t)?void 0:t+"px",n.set(a,e)}else n.set(a,{fontFamily:"",fontSize:"",fontStyle:"",fontWeight:""})},_addStyleableDomNode:function(e){this._styleableDomNodes.push(e)},_removeStyleableDomNode:function(e){var a=this._styleableDomNodes.indexOf(e);-1!=a&&this._styleableDomNodes.splice(a,1)},_measureText:function(e,i,s){var r=window.getComputedStyle(i)||{},_=this.font||{},l=!e||""===e;return o.innerHTML=l?"Ã„y":e,this._setFont({fontFamily:_.fontFamily||r.fontFamily||"",fontSize:_.fontSize||r.fontSize||"",fontStyle:_.fontStyle||r.fontStyle||"",fontWeight:_.fontWeight||r.fontWeight||""},o),n.set(o,{whiteSpace:i.style.whiteSpace,width:a.unitize(t.val(s,"auto"))}),{width:l?0:o.clientWidth+.5,height:o.clientHeight}},properties:{color:{set:function(e){for(var a in this._styleableDomNodes)n.set(this._styleableDomNodes[a],"color",e);return e}},font:{set:function(e){for(var a in this._styleableDomNodes)this._setFont(e,this._styleableDomNodes[a]);return e}}}})});