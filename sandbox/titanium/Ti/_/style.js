define(["Ti/_","Ti/_/string","Ti/Filesystem"],function(e,a,t){function i(e,t,o){var r,_,l=0;if(e)if(arguments.length>2){for(;n.length>l;)if(r=n[l++],r+=r?_||(_=a.capitalize(t)):t,r in e.style)return(s(o,"Array")?o:[o]).forEach(function(a){e.style[r]=a}),o}else for(r in t)i(e,r,t[r]);return e}var n=require.config.vendorPrefixes.dom,s=require.is,o=document.createElement("p");return{discover:function(e,t){var i,s,r=0;for(t||(t=o);n.length>r;)if(i=n[r++],i+=i?s||(s=a.capitalize(e)):e,i in t.style)return i;return e},get:function(e,a){return e.style[this.discover(a,e)]},set:i,supports:function(e,a){var t=this.discover(e,a);return t in a.style},url:function(a){if(a&&"Ti.Blob"===a.declaredClass)return"url("+(""+a)+")";var i=a&&a.match(/^(.+):\/\//),n=i&&~t.protocols.indexOf(i[1])&&t.getFile(a);return n&&n.exists()?"url("+(""+n.read())+")":a&&"none"!==a?/^url\(/.test(a)?a:"url("+(require.cache(a)||e.getAbsolutePath(a))+")":""}}});