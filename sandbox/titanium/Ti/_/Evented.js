define(function(){var e=require.mix;return{destroy:function(){for(var e in this)delete this[e];this._alive=0},addEventListener:function(e,a){this.listeners||(this.listeners={}),(this.listeners[e]=this.listeners[e]||[]).push(a)},removeEventListener:function(e,a){if(this.listeners)if(a)for(var t=0,i=this.listeners[e],n=i&&i.length||0;n>t;t++)i[t]===a&&i.splice(t,1);else delete this.listeners[e]},fireEvent:function(a,t){var i=0,n=this._modifiers&&this._modifiers[a],s=this.listeners&&this.listeners[a],o=n&&n.length;for(t=t||{},e(t,{source:t.source||this,type:a});o>i;)n[i++].call(this,t);if(s)for(s=[].concat(s),i=0,o=s.length;o>i;)s[i++].call(this,t)},applyProperties:function(a){e(this,a)},_addEventModifier:function(e,a){this._modifiers||(this._modifiers={}),(require.is(e,"Array")?e:[e]).forEach(function(e){(this._modifiers[e]=this._modifiers[e]||[]).push(a)},this)}}});