var WindowManager=require("helper/WindowManager"),Utils=require("helper/Utils"),Cloud=require("ti.cloud");exports["Query Subscriptions"]=function(e){function t(){Cloud.PushNotifications.query({user_id:r.value},function(e){if(e.success)if(0==e.subscriptions.length)n.setData([{title:"No Results!"}]);else{for(var t,i=[],r=0,o=e.subscriptions.length;o>r;r++)t=Ti.UI.createTableViewRow({layout:"vertical"}),Utils.enumerateProperties(t,e.subscriptions[r],20),i.push(t);n.setData(i)}else Utils.error(e)})}var i=WindowManager.createWindow({backgroundColor:"white"}),r=Ti.UI.createTextField({hintText:"user_id",top:10+Utils.u,left:10+Utils.u,right:10+Utils.u,height:40+Utils.u,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,autocapitalization:Ti.UI.TEXT_AUTOCAPITALIZATION_NONE,autocorrect:!1});i.add(r);var o=Ti.UI.createButton({title:"Query Subscriptions",top:10+Utils.u,left:10+Utils.u,right:10+Utils.u,bottom:10+Utils.u,height:40+Utils.u});i.add(o);var n=Ti.UI.createTableView({backgroundColor:"#fff",top:0,bottom:0,data:[]});return i.add(n),o.addEventListener("click",t),r.addEventListener("return",t),i};