var WindowManager=require("helper/WindowManager"),Utils=require("helper/Utils"),Cloud=require("ti.cloud");exports["Reply Message"]=function(e){var t=WindowManager.createWindow({backgroundColor:"white"}),i=Ti.UI.createScrollView({top:0,contentHeight:"auto",layout:"vertical"});t.add(i);var r=Ti.UI.createTextField({top:10+Utils.u,left:10+Utils.u,right:10+Utils.u,height:40+Utils.u,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,editable:!1,ellipsize:!0,value:e.subject||""});i.add(r);var n=Ti.UI.createTextArea({hintText:"Body",top:10+Utils.u,left:10+Utils.u,right:10+Utils.u,height:120+Utils.u,borderWidth:2,borderColor:"#bbb",borderRadius:5,font:{fontSize:20}});i.add(n);var o=Ti.UI.createButton({title:"Reply",top:10+Utils.u,left:10+Utils.u,right:10+Utils.u,bottom:10+Utils.u,height:40+Utils.u});return o.addEventListener("click",function(){o.hide(),Cloud.Messages.reply({message_id:e.id,body:n.value},function(e){e.success?(alert("Replied!"),n.value=""):Utils.error(e),o.show()})}),i.add(o),t.addEventListener("open",function(){n.focus()}),t};