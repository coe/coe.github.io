var WindowManager=require("helper/WindowManager"),Utils=require("helper/Utils"),Cloud=require("ti.cloud");exports["Create Geo Fence"]=function(e){function t(){for(var e=0;e<a.length;e++){if(!a[e].value.length)return void a[e].focus();a[e].blur()}o.hide(),Cloud.GeoFences.create({geo_fence:n.value},function(e){e.success?alert("Created!"):Utils.error(e),o.show()})}var i=WindowManager.createWindow({backgroundColor:"white"}),r=Ti.UI.createScrollView({top:0,contentHeight:"auto",layout:"vertical"});i.add(r);var n=Ti.UI.createTextField({hintText:"geo_fence",top:10+Utils.u,left:10+Utils.u,right:10+Utils.u,height:40+Utils.u,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED});r.add(n);var o=Ti.UI.createButton({title:"Create",top:10+Utils.u,left:10+Utils.u,right:10+Utils.u,bottom:10+Utils.u,height:40+Utils.u});r.add(o);var a=[n];o.addEventListener("click",t);for(var s=0;s<a.length;s++)a[s].addEventListener("return",t);return i.addEventListener("open",function(){n.focus()}),i};