var WindowManager=require("helper/WindowManager"),Utils=require("helper/Utils"),Cloud=require("ti.cloud");exports["Key Values"]=function(e){var t=WindowManager.createWindow({backgroundColor:"white"}),i=Ti.UI.createScrollView({top:0,contentHeight:"auto",layout:"vertical"});t.add(i);var r=Ti.UI.createTextField({hintText:"Name",top:10+Utils.u,left:10+Utils.u,right:10+Utils.u,height:40+Utils.u,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,autocapitalization:Ti.UI.TEXT_AUTOCAPITALIZATION_NONE,autocorrect:!1});i.add(r);var n=Ti.UI.createTextField({hintText:"Value",top:10+Utils.u,left:10+Utils.u,right:10+Utils.u,height:40+Utils.u,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,autocapitalization:Ti.UI.TEXT_AUTOCAPITALIZATION_NONE,autocorrect:!1});i.add(n);var o=Ti.UI.createButton({title:"Set",top:10+Utils.u,left:10+Utils.u,right:10+Utils.u,bottom:10+Utils.u,height:40+Utils.u});o.addEventListener("click",function(){Cloud.KeyValues.set({name:r.value,value:n.value},function(e){e.success?alert("Set!"):Utils.error(e)})}),i.add(o);var a=Ti.UI.createButton({title:"Get",top:0,left:10+Utils.u,right:10+Utils.u,bottom:10+Utils.u,height:40+Utils.u});a.addEventListener("click",function(e){Cloud.KeyValues.get({name:r.value},function(e){e.success?(n.value=e.keyvalues[0].value,alert("Got!")):Utils.error(e)})}),i.add(a);var s=Ti.UI.createButton({title:"Append",top:0,left:10+Utils.u,right:10+Utils.u,bottom:10+Utils.u,height:40+Utils.u});s.addEventListener("click",function(e){Cloud.KeyValues.append({name:r.value,value:n.value},function(e){e.success?alert("Appended!"):Utils.error(e)})}),i.add(s);var l=Ti.UI.createButton({title:"Increment",top:0,left:10+Utils.u,right:10+Utils.u,bottom:10+Utils.u,height:40+Utils.u});l.addEventListener("click",function(e){var t=parseInt(n.value,10);return isNaN(t)?(alert("Enter a valid number for the increment"),void n.focus()):void Cloud.KeyValues.increment({name:r.value,value:t},function(e){e.success?alert("Incremented!"):Utils.error(e)})}),i.add(l);var u=Ti.UI.createButton({title:"Remove",top:0,left:10+Utils.u,right:10+Utils.u,bottom:10+Utils.u,height:40+Utils.u});return u.addEventListener("click",function(e){Cloud.KeyValues.remove({name:r.value},function(e){e.success?(alert("Removed!"),n.value=""):Utils.error(e)})}),i.add(u),t.addEventListener("open",function(){r.focus()}),t};