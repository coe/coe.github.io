var WindowManager=require("helper/WindowManager"),Utils=require("helper/Utils"),Cloud=require("ti.cloud");exports["Show Photo Collection"]=function(e){var t=WindowManager.createWindow({backgroundColor:"white"}),i=Ti.UI.createScrollView({top:0,contentHeight:"auto",layout:"vertical"});t.add(i);var r=Ti.UI.createLabel({text:"Loading, please wait...",textAlign:"left",height:30+Utils.u,left:20+Utils.u,right:20+Utils.u});return i.add(r),Cloud.PhotoCollections.show({collection_id:e.id},function(t){if(i.remove(r),t.success){var n=t.collections[0];if(n.counts.photos){var o=Ti.UI.createButton({title:"Show Photos",top:10+Utils.u,left:10+Utils.u,right:10+Utils.u,bottom:10+Utils.u,height:40+Utils.u});o.addEventListener("click",function(){WindowManager.handleOpenWindow({target:"Show Collection's Photos",id:e.id})}),i.add(o)}if(n.counts.subcollections){var a=Ti.UI.createButton({title:"Show Subcollections",top:10+Utils.u,left:10+Utils.u,right:10+Utils.u,bottom:10+Utils.u,height:40+Utils.u});a.addEventListener("click",function(){WindowManager.handleOpenWindow({target:"Show Subcollections",id:e.id})}),i.add(a)}var s=Ti.UI.createButton({title:"Update",top:10+Utils.u,left:10+Utils.u,right:10+Utils.u,bottom:10+Utils.u,height:40+Utils.u});s.addEventListener("click",function(){WindowManager.handleOpenWindow({target:"Update Photo Collection",id:e.id})}),i.add(s);var l=Ti.UI.createButton({title:"Remove",top:10+Utils.u,left:10+Utils.u,right:10+Utils.u,bottom:10+Utils.u,height:40+Utils.u});l.addEventListener("click",function(){WindowManager.handleOpenWindow({target:"Remove Photo Collection",id:e.id})}),i.add(l),Utils.enumerateProperties(i,n,20)}else Utils.error(t)}),t};