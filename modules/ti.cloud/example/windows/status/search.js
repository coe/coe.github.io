var WindowManager=require("helper/WindowManager"),Utils=require("helper/Utils"),Cloud=require("ti.cloud");exports["Search Statuses by User"]=function(e){var t=WindowManager.createWindow({backgroundColor:"white"}),i=Ti.UI.createTableView({backgroundColor:"#fff",top:0,bottom:0,data:[{title:"Loading, please wait..."}]});return i.addEventListener("click",function(e){e.row.id&&Cloud.Statuses.search({user_id:e.row.id},function(e){if(e.success)if(0==e.statuses.length)i.setData([{title:"No Statuses!"}]);else{for(var t=[],r=0,o=e.statuses.length;o>r;r++)t.push(Ti.UI.createTableViewRow({title:e.statuses[r].message}));i.setData(t)}else Utils.error(e)})}),t.add(i),t.addEventListener("open",function(){Cloud.Users.query(function(e){if(e.success)if(0==e.users.length)i.setData([{title:"No Users!"}]);else{for(var t=[],r=0,o=e.users.length;o>r;r++)t.push(Ti.UI.createTableViewRow({title:e.users[r].first_name+" "+e.users[r].last_name,id:e.users[r].id}));i.setData(t)}else Utils.error(e)})}),t};