function WPATH(e){var t=e.lastIndexOf("/"),i=-1===t?"jp.coe.ad/"+e:e.substring(0,t)+"/jp.coe.ad/"+e.substring(t+1);return i}function Controller(){new(require("alloy/widget"))("jp.coe.ad"),this.__widgetId="jp.coe.ad",require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="widget",arguments[0]?arguments[0].__parentSymbol:null,arguments[0]?arguments[0].$model:null,arguments[0]?arguments[0].__itemTemplate:null;var e=this,t={};e.__views.adview=Ti.UI.createView({id:"adview"}),e.__views.adview&&e.addTopLevelView(e.__views.adview),t.destroy=function(){},_.extend(e,e.__views);var i,n,r,o;i=arguments[0]||{},e.adview.applyProperties(i),o=function(t,i){var n,r;return e.adview.remove(i),n=require("ti.admob"),r=n.createView(t),r.addEventListener("didReceiveAd",function(){return Ti.API.debug("didReceiveAd")}),e.adview.add(r)},n=function(e){var t,i;return t=require("net.nend"),null!=e.nendId&&(e.apiKey=e.nendId),i=t.createView(e),i.addEventListener("receive",function(){return Ti.API.info("nend receive")}),i.addEventListener("error",function(t){return Ti.API.error("nend error "+JSON.stringify(t)),o(e,i)}),i.addEventListener("click",function(){return Ti.API.info("nend click")}),i},r=function(){return Alloy.isTablet},t.isTablet=r,t.setBottom=function(){return e.adview.bottom=0},t.setTop=function(){return e.adview.top=0},t.init=function(t,i){var r,a,l,s;return null==i&&(i=!1),l=Alloy.isTablet,null==t&&(t=l?_.extend(Alloy.CFG.tablet,Alloy.CFG.ad_tablet):_.extend(Alloy.CFG.phone,Alloy.CFG.ad_phone)),e.adview.height=t.height,e.adview.width=t.width,a=null,"JP"===Titanium.Locale.getCurrentCountry()?e.adview.add(n(t)):null!=Ti.UI.iOS?(s=Ti.UI.iOS.createAdView({zIndex:1e3}),s.addEventListener("error",function(){return Ti.API.error("AdView error"),o(t,s)}),s.addEventListener("action",function(){return Ti.API.debug("action"),o(t,s)}),e.adview.add(s)):null!=Ti.Android&&(r=require("ti.admob"),t.kindAd=Alloy.isTablet?1:0,a=r.createView(t),a.addEventListener(r.AD_RECEIVED,function(){}),a.addEventListener(r.AD_NOT_RECEIVED,function(){}),e.adview.add(a)),t},_.extend(e,t)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;