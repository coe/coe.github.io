define(["Ti/_/declare","Ti/UI","Ti/UI/View"],function(e,a,t){var i=[];return e("Ti._.UI.SuperView",t,{destroy:function(){this.close(),t.prototype.destroy.apply(this,arguments)},open:function(){if(!this._opened){this._opened=1,a._addWindow(this,1).show();var e=i.length;e&&i[e-1]._handleBlurEvent(2),i.push(this),this.fireEvent("open"),this._handleFocusEvent()}},close:function(){if(this.tab)this.tab.close(this);else if(this._opened){var e=i.indexOf(this),t=e===i.length-1;if(a._removeWindow(this),~e&&(t&&this._handleBlurEvent(1),i.splice(e,1)),this.fireEvent("close"),t){for(e=i.length-1;e>=0&&!i[e]._opened;e--);e>=0&&i[e]._handleFocusEvent()}this._opened=0}},_handleFocusEvent:function(){this.fireEvent("focus")},_handleBlurEvent:function(){this.fireEvent("blur")}})});