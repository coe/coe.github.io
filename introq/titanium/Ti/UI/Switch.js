define(["Ti/_/declare","Ti/_/UI/FontWidget","Ti/_/css","Ti/_/style","Ti/UI"],function(e,a,t,i,n){var s=i.set,o={post:function(){this.backgroundColor||this.backgroundDisabledColor||this.backgroundDisabledImage||this.backgroundFocusedColor||this.backgroundFocusedImage||this.backgroundImage||this.backgroundSelectedColor||this.backgroundSelectedImage?this._clearDefaultLook():this._setDefaultLook(),this._doBackground()}};return e("Ti.UI.Switch",a,{constructor:function(){var e=this._contentContainer=n.createView({width:n.INHERIT,height:n.INHERIT,layout:n._LAYOUT_CONSTRAINING_VERTICAL,borderColor:"transparent"});this._add(e),e._add(this._switchTitle=n.createLabel({width:n.INHERIT,height:n.INHERIT,verticalAlign:n.TEXT_VERTICAL_ALIGNMENT_CENTER,textAlign:n.TEXT_ALIGNMENT_CENTER})),e._add(this._switchIndicator=n.createView({width:40,height:10,borderRadius:4,borderWidth:1,borderColor:"#888"})),this._setDefaultLook();var a=this;a.addEventListener("singletap",function(){a.value=!a.value}),this.value=!1},_setDefaultLook:function(){this._hasDefaultLook||(this._hasDefaultLook=!0,this._previousBorderWidth=this.borderWidth,this._previousBorderColor=this.borderColor,t.add(this.domNode,"TiUIElementGradient"),t.add(this.domNode,"TiUIButtonDefault"),this._contentContainer.borderWidth=6,this._getBorderFromCSS())},_clearDefaultLook:function(){this._hasDefaultLook&&(this._hasDefaultLook=!1,this.borderWidth=this._previousBorderWidth,this.borderColor=this._previousBorderColor,t.remove(this.domNode,"TiUIElementGradient"),t.remove(this.domNode,"TiUIButtonDefault"),this._contentContainer.borderWidth=0)},_defaultWidth:n.SIZE,_defaultHeight:n.SIZE,properties:{backgroundColor:o,backgroundDisabledColor:o,backgroundDisabledImage:o,backgroundFocusedColor:o,backgroundFocusedImage:o,backgroundImage:o,backgroundSelectedColor:o,backgroundSelectedImage:o,enabled:{set:function(e,a){return e!==a&&(this._hasDefaultLook&&(e?(t.add(this.domNode,"TiUIElementGradient"),s(this.domNode,"backgroundColor","")):(t.remove(this.domNode,"TiUIElementGradient"),s(this.domNode,"backgroundColor","#aaa"))),this._setTouchEnabled(e)),e},value:!0},textAlign:{set:function(e){return this._switchTitle.textAlign=e,e}},titleOff:{set:function(e){return this.value||(this._switchTitle.text=e),e},value:"Off"},titleOn:{set:function(e){return this.value&&(this._switchTitle.text=e),e},value:"On"},value:{set:function(e){return this._switchIndicator.backgroundColor=e?"#0f0":"#aaa",e=!!e,this._switchTitle.text=e?this.titleOn:this.titleOff,e},post:function(){this.fireEvent("change",{value:this.value})}},verticalAlign:{set:function(e){this._switchTitle.verticalAlign=e},value:n.TEXT_VERTICAL_ALIGNMENT_CENTER}}})});