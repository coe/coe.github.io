define(["require","Ti/_/lang","Ti/_/Evented","Ti/API"],function(e,t,i,r){function o(e,t){return l[e]||t||e||""}var n=t.val(navigator.language,navigator.browserLanguage).replace(/^([^\-\_]+)[\-\_](.+)?$/,function(e,t,i){return t.toLowerCase()+(i&&"-"+i.toUpperCase())}),a=n.split("-"),s=a[0],l={},u=e.config,d=u.app;document.body.dir=/^ar|he$/.test(s)?"RTL":"LTR",document.title=d.name=d.names[s]||d.name;try{~u.locales.indexOf(s)&&(l=e("./Locale/"+s+"/i18n"))}catch(c){}return Object.defineProperty(window,"L",{value:o,enumarable:!0}),String.formatDate=function(e,t){return r.debug('Method "String.formatDate" is not implemented yet.'),e.toString()},String.formatTime=function(e){return r.debug('Method "String.formatTime" is not implemented yet.'),e.toString()},String.formatCurrency=function(e){return r.debug('Method "String.formatCurrency" is not implemented yet.'),e},String.formatDecimal=function(e){return r.debug('Method "String.formatDecimal" is not implemented yet.'),e},t.setObject("Ti.Locale",i,{constants:{currentCountry:a[1]||"",currentLanguage:a[0]||"",currentLocale:n},formatTelephoneNumber:function(e){return e},getCurrencyCode:function(e){return""},getCurrencySymbol:function(e){return""},getLocaleCurrencySymbol:function(e){return""},getString:o,_getString:function(e,i){return t.val(i,o(e,i))}})});