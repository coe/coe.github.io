define(["Ti/_/Evented","Ti/_/lang"],function(e,t){function i(e){"online"===e.type&&!o&&(o=1),"offline"===e.type&&o&&(o=0),n.fireEvent("change",{networkType:n.networkType,networkTypeName:n.networkTypeName,online:o})}var r=navigator.connection,o=navigator.onLine,n=t.setObject("Ti.Network",e,{constants:{NETWORK_LAN:1,NETWORK_MOBILE:3,NETWORK_NONE:0,NETWORK_UNKNOWN:-1,NETWORK_WIFI:2,networkType:function(){return o?r&&r.type==r.WIFI?n.NETWORK_WIFI:r&&r.type==r.ETHERNET?n.NETWORK_LAN:!r||r.type!=r.CELL_2G&&r.type!=r.CELL_3G?n.NETWORK_UNKNOWN:n.NETWORK_MOBILE:n.NETWORK_NONE},networkTypeName:function(){return o?r&&r.type==r.WIFI?"WIFI":r&&r.type==r.ETHERNET?"LAN":!r||r.type!=r.CELL_2G&&r.type!=r.CELL_3G?"UNKNOWN":"MOBILE":"NONE"},online:function(){return o}},properties:{httpURLFormatter:null},createHTTPClient:function(e){return new(require("Ti/Network/HTTPClient"))(e)},decodeURIComponent:function(e){return decodeURIComponent(e)},encodeURIComponent:function(e){return encodeURIComponent(e)}});return require.on(window,"online",i),require.on(window,"offline",i),n});