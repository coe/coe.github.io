define(["Ti/_/encoding","Ti/_/Evented","Ti/_/lang","Ti/Blob"],function(e,t,i,r){function o(e,t){for(var i=[],r=0,o=8*e.length;o>r;r+=8)i[r>>5]|=(255&e.charCodeAt(r/8))<<(t?t-r:r)%32;return i}function n(e,t){for(var i="0123456789abcdef",r=0,o=4*e.length,n=[];o>r;r++)n.push(i.charAt(e[r>>2]>>(t?t-r:r)%4*8+4&15)+i.charAt(e[r>>2]>>(t?t-r:r)%4*8&15));return n.join("")}function a(e,t){return e=o(e,24),e[t>>5]|=128<<24-t%32,e[(t+64>>9<<4)+15]=t,e}function s(e,t){var i=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(i>>16);return r<<16|65535&i}function l(e,t){return e<<t|e>>>32-t}function u(e,t,i,r,o,n){return s(l(s(s(t,e),s(r,n)),o),i)}function d(e,t,i,r,o,n,a){return u(t&i|~t&r,e,t,o,n,a)}function c(e,t,i,r,o,n,a){return u(t&r|i&~r,e,t,o,n,a)}function h(e,t,i,r,o,n,a){return u(t^i^r,e,t,o,n,a)}function p(e,t,i,r,o,n,a){return u(i^(t|~r),e,t,o,n,a)}function f(e,t,i,r){return 20>e?t&i|~t&r:40>e?t^i^r:60>e?t&i|t&r|i&r:t^i^r}function g(e){return 20>e?1518500249:40>e?1859775393:60>e?-1894007588:-899497514}function _(e,t){return e>>>t|e<<32-t}function v(e){return _(e,7)^_(e,18)^e>>>3}function T(e){return _(e,17)^_(e,19)^e>>>10}function w(e){return e&&"Ti.Blob"===e.declaredClass}function U(t){return atob(e.utf8encode(t))}function m(e){return w(e)?e._isBinary?U(e._data):e._data:e}var b=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];return i.setObject("Ti.Utils",t,{base64decode:function(e){return w(e)&&e._isBinary?e:new r({data:U(e._data||e)})},base64encode:function(t){return w(t)&&t._isBinary?t:new r({data:e.utf8decode(btoa(t._data||t))})},md5HexDigest:function(t){var i,t=e.utf8encode(m(t)),r=8*t.length,a=1732584193,l=-271733879,u=-1732584194,f=271733878,g=0;for(t=o(t),t[r>>5]|=128<<r%32,t[(r+64>>>9<<4)+14]=r,i=t.length;i>g;g+=16){var _=a,v=l,T=u,w=f;a=d(a,l,u,f,t[g+0],7,-680876936),f=d(f,a,l,u,t[g+1],12,-389564586),u=d(u,f,a,l,t[g+2],17,606105819),l=d(l,u,f,a,t[g+3],22,-1044525330),a=d(a,l,u,f,t[g+4],7,-176418897),f=d(f,a,l,u,t[g+5],12,1200080426),u=d(u,f,a,l,t[g+6],17,-1473231341),l=d(l,u,f,a,t[g+7],22,-45705983),a=d(a,l,u,f,t[g+8],7,1770035416),f=d(f,a,l,u,t[g+9],12,-1958414417),u=d(u,f,a,l,t[g+10],17,-42063),l=d(l,u,f,a,t[g+11],22,-1990404162),a=d(a,l,u,f,t[g+12],7,1804603682),f=d(f,a,l,u,t[g+13],12,-40341101),u=d(u,f,a,l,t[g+14],17,-1502002290),l=d(l,u,f,a,t[g+15],22,1236535329),a=c(a,l,u,f,t[g+1],5,-165796510),f=c(f,a,l,u,t[g+6],9,-1069501632),u=c(u,f,a,l,t[g+11],14,643717713),l=c(l,u,f,a,t[g+0],20,-373897302),a=c(a,l,u,f,t[g+5],5,-701558691),f=c(f,a,l,u,t[g+10],9,38016083),u=c(u,f,a,l,t[g+15],14,-660478335),l=c(l,u,f,a,t[g+4],20,-405537848),a=c(a,l,u,f,t[g+9],5,568446438),f=c(f,a,l,u,t[g+14],9,-1019803690),u=c(u,f,a,l,t[g+3],14,-187363961),l=c(l,u,f,a,t[g+8],20,1163531501),a=c(a,l,u,f,t[g+13],5,-1444681467),f=c(f,a,l,u,t[g+2],9,-51403784),u=c(u,f,a,l,t[g+7],14,1735328473),l=c(l,u,f,a,t[g+12],20,-1926607734),a=h(a,l,u,f,t[g+5],4,-378558),f=h(f,a,l,u,t[g+8],11,-2022574463),u=h(u,f,a,l,t[g+11],16,1839030562),l=h(l,u,f,a,t[g+14],23,-35309556),a=h(a,l,u,f,t[g+1],4,-1530992060),f=h(f,a,l,u,t[g+4],11,1272893353),u=h(u,f,a,l,t[g+7],16,-155497632),l=h(l,u,f,a,t[g+10],23,-1094730640),a=h(a,l,u,f,t[g+13],4,681279174),f=h(f,a,l,u,t[g+0],11,-358537222),u=h(u,f,a,l,t[g+3],16,-722521979),l=h(l,u,f,a,t[g+6],23,76029189),a=h(a,l,u,f,t[g+9],4,-640364487),f=h(f,a,l,u,t[g+12],11,-421815835),u=h(u,f,a,l,t[g+15],16,530742520),l=h(l,u,f,a,t[g+2],23,-995338651),a=p(a,l,u,f,t[g+0],6,-198630844),f=p(f,a,l,u,t[g+7],10,1126891415),u=p(u,f,a,l,t[g+14],15,-1416354905),l=p(l,u,f,a,t[g+5],21,-57434055),a=p(a,l,u,f,t[g+12],6,1700485571),f=p(f,a,l,u,t[g+3],10,-1894986606),u=p(u,f,a,l,t[g+10],15,-1051523),l=p(l,u,f,a,t[g+1],21,-2054922799),a=p(a,l,u,f,t[g+8],6,1873313359),f=p(f,a,l,u,t[g+15],10,-30611744),u=p(u,f,a,l,t[g+6],15,-1560198380),l=p(l,u,f,a,t[g+13],21,1309151649),a=p(a,l,u,f,t[g+4],6,-145523070),f=p(f,a,l,u,t[g+11],10,-1120210379),u=p(u,f,a,l,t[g+2],15,718787259),l=p(l,u,f,a,t[g+9],21,-343485551),a=s(a,_),l=s(l,v),u=s(u,T),f=s(f,w)}return n([a,l,u,f])},sha1:function(t){var i,r,o,t=e.utf8encode(m(t)),u=1732584193,d=-271733879,c=-1732584194,h=271733878,p=-1009589776,_=0,v=new Array(80);for(t=a(t,8*t.length),o=t.length;o>_;_+=16){var T=u,w=d,U=c,b=h,I=p;for(i=0;80>i;i++)v[i]=16>i?t[_+i]:l(v[i-3]^v[i-8]^v[i-14]^v[i-16],1),r=s(s(l(u,5),f(i,d,c,h)),s(s(p,v[i]),g(i))),p=h,h=c,c=l(d,30),d=u,u=r;u=s(u,T),d=s(d,w),c=s(c,U),h=s(h,b),p=s(p,I)}return n([u,d,c,h,p],3)},sha256:function(t){var i,r,o,l,t=e.utf8encode(m(t)),u=1779033703,d=-1150833019,c=1013904242,h=-1521486534,p=1359893119,f=-1694144372,g=528734635,w=1541459225,U=0,I=new Array(64);for(t=a(t,8*t.length),r=t.length;r>U;U+=16){var E=u,y=d,C=c,S=h,L=p,A=f,N=g,x=w;for(i=0;64>i;i++)I[i]=16>i?t[U+i]:s(s(s(T(I[i-2]),I[i-7]),v(I[i-15])),I[i-16]),o=s(s(s(s(w,_(p,6)^_(p,11)^_(p,25)),p&f^~p&g),b[i]),I[i]),l=s(_(u,2)^_(u,13)^_(u,22),u&d^u&c^d&c),w=g,g=f,f=p,p=s(h,o),h=c,c=d,d=u,u=s(o,l);u=s(u,E),d=s(d,y),c=s(c,C),h=s(h,S),p=s(p,L),f=s(f,A),g=s(g,N),w=s(w,x)}return n([u,d,c,h,p,f,g,w],3)}})});