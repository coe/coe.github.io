define(["Ti/_/declare","Ti/UI/View","Ti/_/dom","Ti/Locale","Ti/UI","Ti/UI/MobileWeb","Ti/UI/Label","Ti/UI/ImageView"],function(e,t,i,r,o,n){var a={post:function(){this._tabTitle.text=this._getTitle()}},s=o.FILL,l=o.SIZE;return e("Ti.UI.Tab",t,{constructor:function(e){var t=e&&e.window,i=o.createView({layout:o._LAYOUT_CONSTRAINING_VERTICAL,width:"100%",height:l}),r=this._tabNavigationGroup=n.createNavigationGroup({window:t,_tab:this});this._add(i),i._add(this._tabIcon=o.createImageView({height:l,width:l})),i._add(this._tabTitle=o.createLabel({width:"100%",wordWrap:!0,textAlign:o.TEXT_ALIGNMENT_CENTER})),t&&require.on(this,"singletap",this,function(e){var t=this._tabGroup;t&&(t.activeTab===this?r._reset():t.activeTab=this)})},_defaultWidth:s,_defaultHeight:s,open:function(e,t){this._tabNavigationGroup.open(e,t)},close:function(e,t){this._tabNavigationGroup.close(e,t)},_focus:function(){this.fireEvent("focus",this._tabGroup._getEventData());var e=this._tabNavigationGroup._getTopWindow();e&&(this._tabGroup&&this._tabGroup._opened&&!e._opened&&(e._opened=1,e.fireEvent("open")),e._handleFocusEvent())},_blur:function(){var e=this._tabNavigationGroup._getTopWindow();e&&e._handleBlurEvent(),this.fireEvent("blur",this._tabGroup._getEventData())},_getTitle:function(){return r._getString(this.titleid,this.title)},_setTabGroup:function(e){this._tabGroup=e,this._tabNavigationGroup.navBarAtTop=e.tabsAtTop,this._win&&(this._win.tabGroup=e)},_setNavBarAtTop:function(e){this._tabNavigationGroup.navBarAtTop=e},properties:{active:{get:function(){return this._tabGroup&&this._tabGroup.activeTab===this},post:function(e){var t=this._tabGroup,i=this._tabNavigationGroup,r=t._focused&&t._opened;e?(i.navBarAtTop=t.tabsAtBottom,i._updateNavBar(),t._addTabContents(i),r&&this._focus()):(t._removeTabContents(i),r&&this._blur())}},icon:{set:function(e){return this._tabIcon.image=e}},title:a,titleid:a}})});