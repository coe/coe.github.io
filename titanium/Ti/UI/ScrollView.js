define(["Ti/_/declare","Ti/_/UI/KineticScrollView","Ti/_/style","Ti/_/lang","Ti/UI"],function(e,t,i,r,o){var n=r.isDef,a=.001;return e("Ti.UI.ScrollView",t,{constructor:function(){var e;this._initKineticScrollView(e=o.createView({width:o.SIZE,height:o.SIZE,_minWidth:"100%",_minHeight:"100%",left:0,top:0}),"both","both",1)},_handleMouseWheel:function(){this._isScrollBarActive&&this.fireEvent("scroll",{x:-this._currentTranslationX,y:-this._currentTranslationY,dragging:!1,decelerating:!1})},_handleDragStart:function(){this.fireEvent("dragStart")},_handleDrag:function(){this.fireEvent("scroll",{x:-this._currentTranslationX,y:-this._currentTranslationY,dragging:!0,decelerating:!1})},_handleDragEnd:function(e,t,i){if(n(t)){var r=this,s=Math.sqrt(t*t+i*i),l=s*s/(1.724*a),u=s/a,d=Math.atan(Math.abs(i/t)),c=l*Math.cos(d)*(0>t?-1:1),h=l*Math.sin(d)*(0>i?-1:1),p=Math.min(0,Math.max(r._minTranslationX,r._currentTranslationX+c)),f=Math.min(0,Math.max(r._minTranslationY,r._currentTranslationY+h));r.fireEvent("dragEnd",{decelerate:!0}),r._animateToPosition(p,f,u,o.ANIMATION_CURVE_EASE_OUT,function(){r._setTranslation(p,f),r._endScrollBars(),r.fireEvent("scrollEnd")})}},scrollTo:function(e,t){this._setTranslation(null!==e?-e:this._currentTranslationX,null!==t?-t:this._currentTranslationX)},_defaultWidth:o.FILL,_defaultHeight:o.FILL,_getContentOffset:function(){return this.contentOffset},_preLayout:function(){var e=this._contentContainer.layout===this.layout;return this._contentContainer.layout=this.layout,e},add:function(e){this._contentContainer._add(e),this._publish(e)},remove:function(e){this._contentContainer.remove(e),this._unpublish(e)},properties:{contentHeight:{get:function(){return this._contentContainer.height},set:function(e){return this._contentContainer.height=e,e}},contentOffset:{get:function(){return{x:-this._currentTranslationX,y:-this._currentTranslationY}},set:function(e){return this._setTranslation(n(e.x)?-e.x:this._currentTranslationX,n(e.y)?-e.y:this._currentTranslationY),e}},contentWidth:{get:function(){return this._contentContainer.width},set:function(e){return this._contentContainer.width=e,e}},disableBounce:!1,horizontalBounce:{set:function(e){return this._horizontalElastic=e},value:!0},layout:{set:function(e){return this._contentContainer.layout=e},value:"composite"},showHorizontalScrollIndicator:{set:function(e,t){return e!==t&&(e?this._createHorizontalScrollBar():this._destroyHorizontalScrollBar()),e},value:!0},showVerticalScrollIndicator:{set:function(e,t){return e!==t&&(e?this._createVerticalScrollBar():this._destroyVerticalScrollBar()),e},value:!0},verticalBounce:{set:function(e){return this._verticalElastic=e},value:!0}}})});