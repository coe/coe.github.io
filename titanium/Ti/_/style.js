define(["Ti/_","Ti/_/string","Ti/Filesystem"],function(e,t,i){function r(e,i,a){var s,l,u=0;if(e)if(arguments.length>2){for(;u<n.length;)if(s=n[u++],s+=s?l||(l=t.capitalize(i)):i,s in e.style)return(o(a,"Array")?a:[a]).forEach(function(t){e.style[s]=t}),a}else for(s in i)r(e,s,i[s]);return e}var n=require.config.vendorPrefixes.dom,o=require.is,a=document.createElement("p");return{discover:function(e,i){var r,o,s=0;for(i||(i=a);s<n.length;)if(r=n[s++],r+=r?o||(o=t.capitalize(e)):e,r in i.style)return r;return e},get:function(e,t){return e.style[this.discover(t,e)]},set:r,supports:function(e,t){var i=this.discover(e,t);return i in t.style},url:function(t){if(t&&"Ti.Blob"===t.declaredClass)return"url("+t.toString()+")";var r=t&&t.match(/^(.+):\/\//),n=r&&~i.protocols.indexOf(r[1])&&i.getFile(t);return n&&n.exists()?"url("+n.read().toString()+")":t&&"none"!==t?/^url\(/.test(t)?t:"url("+(require.cache(t)||e.getAbsolutePath(t))+")":""}}});