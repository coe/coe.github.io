define(["Ti/_/declare","Ti/_/dom","Ti/_/lang","Ti/_/ready","Ti/_/style","Ti/_/UI/Widget"],function(e,t,i,r,n,o){var a;return r(function(){a=t.create("p",{style:{position:"absolute",top:"-1000em",left:0,height:"auto",width:"auto"}},document.body)}),e("Ti._.UI.FontWidget",o,{constructor:function(){this._styleableDomNodes=[]},_setFont:function(e,t){if(e){var i=parseInt(e.fontSize);e.fontSize=isNaN(i)?void 0:i+"px",n.set(t,e)}else n.set(t,{fontFamily:"",fontSize:"",fontStyle:"",fontWeight:""})},_addStyleableDomNode:function(e){this._styleableDomNodes.push(e)},_removeStyleableDomNode:function(e){var t=this._styleableDomNodes.indexOf(e);-1!=t&&this._styleableDomNodes.splice(t,1)},_measureText:function(e,r,o){var s=window.getComputedStyle(r)||{},l=this.font||{},u=!e||""===e;return a.innerHTML=u?"Ã„y":e,this._setFont({fontFamily:l.fontFamily||s.fontFamily||"",fontSize:l.fontSize||s.fontSize||"",fontStyle:l.fontStyle||s.fontStyle||"",fontWeight:l.fontWeight||s.fontWeight||""},a),n.set(a,{whiteSpace:r.style.whiteSpace,width:t.unitize(i.val(o,"auto"))}),{width:u?0:a.clientWidth+.5,height:a.clientHeight}},properties:{color:{set:function(e){for(var t in this._styleableDomNodes)n.set(this._styleableDomNodes[t],"color",e);return e}},font:{set:function(e){for(var t in this._styleableDomNodes)this._setFont(e,this._styleableDomNodes[t]);return e}}}})});