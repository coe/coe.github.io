var AppStoreClient;String.prototype.replaceAll=function(e,t){return this.split(e).join(t)},module.exports=AppStoreClient=function(){function e(){}var t,i,r,n,o,a,s,l;return e.name="AppStoreClient",i="http://ax.itunes.apple.com/WebObjects/MZStoreServices.woa/wa/wsSearch?",t="http://play.google.com/store/search?q=tsuyoshi+hyuga",n=i,a=function(e){var t,i,r,n,o,a,s,l,u,c,p,d,_,h,g,f;t=[],l="";try{for(i=e.documentElement,o=i.getElementsByTagName("entry"),n=p=0,h=o.length;h>=0?h>p:p>h;n=h>=0?++p:--p){for(s={},r=o.item(n),s.trackName=r.getElementsByTagName("im:name").item(0).textContent,s.artistName=r.getElementsByTagName("im:artist").item(0).textContent,u=null,a=d=0,g=r.getElementsByTagName("im:image").length;g>=0?g>d:d>g;a=g>=0?++d:--d)u=r.getElementsByTagName("im:image").item(a).textContent;for(s.artworkUrl100=u,a=_=0,f=r.getElementsByTagName("link").length;f>=0?f>_:_>f;a=f>=0?++_:--_)c=r.getElementsByTagName("link").item(a).getAttribute("type"),"audio/x-m4a"===c&&(s.previewUrl=r.getElementsByTagName("link").item(a).getAttribute("href"));t.push(s)}return t}catch(y){return null}},s=function(e){var t,i,r,n,o;if(t=decodeURIComponent,o={},r=void 0,e===void 0)return o;for(e.indexOf("?",0)>-1&&(e=e.split("?")[1]),e=e.split("&"),i=0;e.length>i;)r=e[i].split("="),""!==r[0]&&(n=r[1]===void 0?!0:t(r[1])),o[r[0]]=n,i++;return o},l=function(e){var t,i,r,n;if(i=encodeURIComponent,n="",t="",!e)return"";for(r in e)n=n+t+r+"="+i(e[r]),t="&";return n},r=["GB","IT","FI","RU","AE","PK","BD","ID","PH","JP","AU","NC","NZ","TO","TO","US","US","US","US","US","CL","BR","BR","GL"],e.getTzOff=function(){var e;return""!==Ti.Locale.getCurrentCountry()?Ti.Locale.getCurrentCountry():(e=new Date,r[(e.getHours()-e.getUTCHours()+24)%24])},o=function(e){return{onerror:e,onreadystatechange:function(){},onsendstream:function(){},ondatastream:function(){},timeout:5e3}},e.getItunesRssData=function(e,t,i){var r,n,s,l,u;return s=null!=(u=null!=i?i.country:void 0)?u:require("AppStoreClient/AppStoreClient").getTzOff(),l="https://itunes.apple.com/"+s.toLowerCase()+"/rss/topsongs/limit=300/explicit=true/xml",n=o(t),n.onload=function(){return e(a(this.responseXML))},r=Ti.Network.createHTTPClient(n),r.open("GET",l),r.send()},e.getItunesData=function(e,t,r){var n,o,a,s,u;return a=require("AppStoreClient/AppStoreClient").getTzOff(),n=null==r?i+("term=tsuyoshi+hyuga&country="+a+"&media=software&entity=software"):(null!=(u=r.country)?u:r.country=a,i+l(r)),s=n,o=Ti.Network.createHTTPClient({onload:function(){var t,i;return i=JSON.parse(this.responseText),t=i.results,e(t,i.resultCount)},onerror:t,onreadystatechange:function(){},onsendstream:function(){},ondatastream:function(){},timeout:5e3}),o.open("GET",s),o.send()},e}();